type Donation @entity {
  id: ID!
  donor: Bytes! # address
  amount: BigInt!
  timestamp: BigInt!
  totalDonation: BigInt!
}

type Borrow @entity {
  id: ID!
  borrower: Bytes! # address
  amount: BigInt!
  timestamp: BigInt!
  totalBorrowing: BigInt!
}

type Repayment @entity {
  id: ID!
  borrower: Bytes! # address
  amount: BigInt!
  timestamp: BigInt!
  remainingDebt: BigInt!
}

type User @entity {
  id: ID! # user address
  totalDonated: BigInt!
  totalBorrowed: BigInt!
  currentDebt: BigInt!
  lastActivity: BigInt!
  donations: [Donation!]! @derivedFrom(field: "donor")
  borrows: [Borrow!]! @derivedFrom(field: "borrower")
  repayments: [Repayment!]! @derivedFrom(field: "borrower")
}
